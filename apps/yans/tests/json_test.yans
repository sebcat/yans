#!/usr/bin/env lua
-- vim: shiftwidth=2 tabstop=2 expandtab

local function test_equal(str)
  local actual = tostring(json.from_str(str))
  if actual ~= str then
    error(string.format("expected: %s was: %s", actual, str))
  end
end

equals = {
  "[]",
  "{}",
  [[{"foo":"bar"}]],
  "[1,2,3]",
  [[{"foo":[1,2,3]}]],
}

for _, v in pairs(equals) do
  test_equal(v)
end


